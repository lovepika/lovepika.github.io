<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Pimp My Pimpl — Reloaded | -Wmarc</title>
	<link rel="pingback" href="https://marcmutz.wordpress.com/xmlrpc.php" />
	<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s.pubmine.com' />
<link rel='dns-prefetch' href='//x.bidswitch.net' />
<link rel='dns-prefetch' href='//static.criteo.net' />
<link rel='dns-prefetch' href='//ib.adnxs.com' />
<link rel='dns-prefetch' href='//aax.amazon-adsystem.com' />
<link rel='dns-prefetch' href='//bidder.criteo.com' />
<link rel='dns-prefetch' href='//cas.criteo.com' />
<link rel='dns-prefetch' href='//gum.criteo.com' />
<link rel='dns-prefetch' href='//ads.pubmatic.com' />
<link rel='dns-prefetch' href='//gads.pubmatic.com' />
<link rel='dns-prefetch' href='//tpc.googlesyndication.com' />
<link rel='dns-prefetch' href='//ad.doubleclick.net' />
<link rel='dns-prefetch' href='//googleads.g.doubleclick.net' />
<link rel='dns-prefetch' href='//www.googletagservices.com' />
<link rel='dns-prefetch' href='//cdn.switchadhub.com' />
<link rel='dns-prefetch' href='//delivery.g.switchadhub.com' />
<link rel='dns-prefetch' href='//delivery.swid.switchadhub.com' />
<link rel='dns-prefetch' href='//a.teads.tv' />
<link rel='dns-prefetch' href='//prebid.media.net' />
<link rel='dns-prefetch' href='//adserver-us.adtech.advertising.com' />
<link rel='dns-prefetch' href='//fastlane.rubiconproject.com' />
<link rel='dns-prefetch' href='//prebid-server.rubiconproject.com' />
<link rel='dns-prefetch' href='//hb-api.omnitagjs.com' />
<link rel='dns-prefetch' href='//mtrx.go.sonobi.com' />
<link rel='dns-prefetch' href='//apex.go.sonobi.com' />
<link rel='dns-prefetch' href='//u.openx.net' />
<link rel="alternate" type="application/rss+xml" title="-Wmarc &raquo; Feed" href="https://marcmutz.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="-Wmarc &raquo; Comments Feed" href="https://marcmutz.wordpress.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="-Wmarc &raquo; Pimp My Pimpl —&nbsp;Reloaded Comments Feed" href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
	<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s0.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1625065786h&ver=5.9.1-RC1-52785"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s0.wp.com/_static/??-eJyNkVluwzAMRC9UmYmRuv0pehYthMCYWqAlhm5fxUBRJ4GTfg6GM3oUYYlCB1/QF3BVRK6WfIYl6uBEdsTY7tSgc36DnRgZiyUD1u6GmVCwXKCgiywLZsilMT4UKA72ryIkI00Gy0FJ/t9sNzDFRBnFZXzGxzR3ijOWKPUsVvUw/jtra5cKk+1OQrgcx+FjOICqxOaKsRaoJFO7W4u85mqu72RwaEgio1tBNqJ/SMMkGK3UbXDkX8e7t9U3oX34lXSzs2yhFmETmZ1rvKxIspC3m2N+u6/jdJrG6fP9cDr/ALp035g=?cssminify=yes' type='text/css' media='all' />
<style id='wp-block-library-inline-css'>
.has-text-align-justify {
	text-align:justify;
}
</style>
<style id='global-styles-inline-css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??-eJyFjcsKAjEMRX/IGEYFmYX4Le1MrJU+QpMy+PdG3CjKuAn3Xs4huDBMtSgVxdyBUw+xCE61ke2ZnaIRmeboKFE2bDuJbPC3trA54D03EgG7OfYMejVRvrzXjNw9WqXGLQqh6D3R6o84B1JBrQxcxdJfJVCFVCensZaPApfkYltTG/lUg8WARr3Vp3TOp+EwDuN+dxzG2wPKMXxe?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-3-1' href='https://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<style id='jetpack-global-styles-frontend-style-inline-css'>
:root { --font-headings: unset; --font-base: unset; --font-headings-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif; --font-base-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;}
</style>
<link rel='stylesheet' id='all-css-6-1' href='https://s0.wp.com/_static/??-eJxti0EKgCAQAD+UbVFGHaK3mJgaqyut0vejQ4eo0zAwA2cSmmI2MUMoImGxPjIk4iw2VP4Adurw0T6sNXMF/xeT9goFkqW3fKbsTDAMrgeLtCq8gyXM7dCNUjZy6vcLZTc31Q==?cssminify=yes' type='text/css' media='all' />
<script id='wpcom-actionbar-placeholder-js-extra'>
var actionbardata = {"siteID":"14776649","siteURL":"http:\/\/marcmutz.wordpress.com","xhrURL":"https:\/\/marcmutz.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"942a4b3695","isLoggedIn":"","statusMessage":"","subsEmailDefault":"instantly","proxyScriptUrl":"https:\/\/s0.wp.com\/wp-content\/js\/wpcom-proxy-request.js?ver=20211021","shortlink":"https:\/\/wp.me\/P10053-4W","i18n":{"followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/read\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar"}};
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s0.wp.com/_static/??/wp-content/js/mobile-useragent-info.js,/wp-content/js/rlt-proxy.js?m=1637704497j'></script>
<script type='text/javascript'>
	window.addEventListener( 'DOMContentLoaded', function() {
		rltInitialize( {"token":null,"iframeOrigins":["https:\/\/widgets.wp.com"]} );
	} );
</script>
<link rel='stylesheet' id='all-css-0-2' href='https://s0.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1641292264h&cssminify=yes' type='text/css' media='all' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://marcmutz.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s0.wp.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/" />
<link rel='shortlink' href='https://wp.me/P10053-4W' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fmarcmutz.wordpress.com%2Ftranslated-articles%2Fpimp-my-pimpl-reloaded%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fmarcmutz.wordpress.com%2Ftranslated-articles%2Fpimp-my-pimpl-reloaded%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Pimp My Pimpl — Reloaded" />
<meta property="og:url" content="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/" />
<meta property="og:description" content="This is a translation of a two-part article that originally appeared on Heise Developer. You can find the originals here: Part One: Part Two: You can find Part One here: Pimp My Pimpl — Reloaded Mu…" />
<meta property="article:published_time" content="2011-08-14T11:49:38+00:00" />
<meta property="article:modified_time" content="2016-09-23T08:16:23+00:00" />
<meta property="og:site_name" content="-Wmarc" />
<meta property="og:image" content="http://vg01.met.vgwort.de/na/58b4397d3b154577800ce7bd0c956208" />
<meta property="og:image:width" content="1" />
<meta property="og:image:height" content="1" />
<meta property="og:image:alt" content="" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:text:title" content="Pimp My Pimpl —&nbsp;Reloaded" />
<meta name="twitter:image" content="http://vg01.met.vgwort.de/na/58b4397d3b154577800ce7bd0c956208?w=144" />
<meta name="twitter:card" content="summary" />
<meta property="fb:app_id" content="249643311490" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://s0.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="https://s0.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon" href="https://s0.wp.com/i/webclip.png" />
<link rel='openid.server' href='https://marcmutz.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://marcmutz.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://marcmutz.wordpress.com/osd.xml" title="-Wmarc" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<meta name="application-name" content="-Wmarc" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Marc Mutz on Qt, Boost, and C++" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://marcmutz.wordpress.com/feed/;icon-uri=https://s0.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s0.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s0.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s0.wp.com/i/favicon.ico" /><meta name="description" content="This is a translation of a two-part article that originally appeared on Heise Developer. You can find the originals here: Part One: http://www.heise.de/developer/artikel/C-Vor-und-Nachteile-des-d-Zeiger-Idioms-Teil-1-1097781.html Part Two: http://www.heise.de/developer/artikel/C-Vor-und-Nachteile-des-d-Zeiger-Idioms-Teil-2-1136104.html You can find Part One here: https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl/ Pimp My Pimpl — Reloaded Much has been written about this funnily-named idiom, alternatively known as d-pointer, compiler firewall, or Cheshire Cat.&hellip;" />
		<style type="text/css">
			#header {
				background: transparent url(https://marcmutz.files.wordpress.com/2010/07/bird-feeding-gradient-3.jpg) no-repeat;
				border: none;
			}
		</style>
		<style type="text/css">
			#header h1,
			#header h1 a,
			#header h1 a:visited,
			#header h4,
			#header h4 a,
			#header h4 a:visited,
			.header-left {
				color: #000000;
			}
		</style>
		<script type="text/javascript">

			window.doNotSellCallback = function() {

				var linkElements = [
					'a[href="https://wordpress.com/?ref=footer_blog"]',
					'a[href="https://wordpress.com/?ref=footer_website"]',
					'a[href="https://wordpress.com/?ref=vertical_footer"]',
					'a[href^="https://wordpress.com/?ref=footer_segment_"]',
				].join(',');

				var dnsLink = document.createElement( 'a' );
				dnsLink.href = 'https://wordpress.com/advertising-program-optout/';
				dnsLink.classList.add( 'do-not-sell-link' );
				dnsLink.rel = 'nofollow';
				dnsLink.style.marginLeft = '0.5em';
				dnsLink.textContent = 'Do Not Sell My Personal Information';

				var creditLinks = document.querySelectorAll( linkElements );

				if ( 0 === creditLinks.length ) {
					return false;
				}

				Array.prototype.forEach.call( creditLinks, function( el ) {
					el.insertAdjacentElement( 'afterend', dnsLink );
				});

				return true;
			};

		</script>
				<script type="text/javascript">
		function __ATA_CC() {var v = document.cookie.match('(^|;) ?personalized-ads-consent=([^;]*)(;|$)');return v ? 1 : 0;}
		var __ATA_PP = { 'pt': 2, 'ht': 0, 'tn': 'enterprise', 'uloggedin': 0, 'amp': false, 'consent': __ATA_CC(), 'gdpr_applies': false, 'ad': { 'label': { 'text': 'Advertisements' }, 'reportAd': { 'text': 'Report this ad' } }, 'siteid': 8982, 'blogid': 14776649 };
		var __ATA = __ATA || {};
		__ATA.cmd = __ATA.cmd || [];
		__ATA.criteo = __ATA.criteo || {};
		__ATA.criteo.cmd = __ATA.criteo.cmd || [];
		</script>
		<script type="text/javascript">
		(function(){var g=Date.now||function(){return+new Date};function h(a,b){a:{for(var c=a.length,d="string"==typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]};function k(a,b,c){c=null!=c?"="+encodeURIComponent(String(c)):"";if(b+=c){c=a.indexOf("#");0>c&&(c=a.length);var d=a.indexOf("?");if(0>d||d>c){d=c;var e=""}else e=a.substring(d+1,c);a=[a.substr(0,d),e,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;a=a[0]+(a[1]?"?"+a[1]:"")+a[2]}return a};var l=0;function m(a,b){var c=document.createElement("script");c.src=a;c.onload=function(){b&&b(void 0)};c.onerror=function(){b&&b("error")};a=document.getElementsByTagName("head");var d;a&&0!==a.length?d=a[0]:d=document.documentElement;d.appendChild(c)}function n(a){var b=void 0===b?document.cookie:b;return(b=h(b.split("; "),function(c){return-1!=c.indexOf(a+"=")}))?b.split("=")[1]:""}function p(a){return"string"==typeof a&&0<a.length}
		function r(a,b,c){b=void 0===b?"":b;c=void 0===c?".":c;var d=[];Object.keys(a).forEach(function(e){var f=a[e],q=typeof f;"object"==q&&null!=f||"function"==q?d.push(r(f,b+e+c)):null!==f&&void 0!==f&&(e=encodeURIComponent(b+e),d.push(e+"="+encodeURIComponent(f)))});return d.filter(p).join("&")}function t(a,b){a||((window.__ATA||{}).config=b.c,m(b.url))}var u=Math.floor(1E13*Math.random()),v=window.__ATA||{};window.__ATA=v;window.__ATA.cmd=v.cmd||[];v.rid=u;v.createdAt=g();var w=window.__ATA||{},x="s.pubmine.com";
		w&&w.serverDomain&&(x=w.serverDomain);var y="//"+x+"/conf",z=window.top===window,A=window.__ATA_PP&&window.__ATA_PP.gdpr_applies,B="boolean"===typeof A?Number(A):null,C=window.__ATA_PP||null,D=z?document.referrer?document.referrer:null:null,E=z?window.location.href:document.referrer?document.referrer:null,F,G=n("__ATA_tuuid");F=G?G:null;var H=window.innerWidth+"x"+window.innerHeight,I=n("usprivacy"),J=r({gdpr:B,pp:C,rid:u,src:D,ref:E,tuuid:F,vp:H,us_privacy:I?I:null},"",".");
		(function(a){var b=void 0===b?"cb":b;l++;var c="callback__"+g().toString(36)+"_"+l.toString(36);a=k(a,b,c);window[c]=function(d){t(void 0,d)};m(a,function(d){d&&t(d)})})(y+"?"+J);}).call(this);
		</script><!-- There is no amphtml version available for this URL. --><script type="text/javascript">
	window.google_analytics_uacct = "UA-52447-2";
</script>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_gat._anonymizeIp']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script>
</head>

<body class="page-template-default page page-id-306 page-child parent-pageid-227 customizer-styles-applied highlander-enabled highlander-light">

<div id="header">
	<div class="header-left">
					<h4><a href="https://marcmutz.wordpress.com/">-Wmarc</a></h4>
				<p id="description">Marc Mutz on Qt, Boost, and C++</p>
	</div>
	<div class="header-right">
		<form method="get" id="searchform" action="https://marcmutz.wordpress.com/" >
			<div><label class="hidden" for="s">Search:</label>
			<input type="text" value="" name="s" id="s" />
			<input type="submit" id="searchsubmit" value="Go" /></div>
		</form>
	</div>
</div>
<div id="access">
	<div id="nav">
		<div id="supernav" class="navleft nav">
			<div class="menu"><ul>
<li ><a href="https://marcmutz.wordpress.com/">Home</a></li><li class="page_item page-item-2"><a href="https://marcmutz.wordpress.com/about/">About</a></li>
<li class="page_item page-item-23 page_item_has_children"><a href="https://marcmutz.wordpress.com/effective-qt/">Effective Qt</a>
<ul class='children'>
	<li class="page_item page-item-26"><a href="https://marcmutz.wordpress.com/effective-qt/subclassing/">Don&#8217;t be sub-class when&nbsp;subclassing</a></li>
	<li class="page_item page-item-543"><a href="https://marcmutz.wordpress.com/effective-qt/strings/">Four Strings to a&nbsp;Bow</a></li>
	<li class="page_item page-item-256"><a href="https://marcmutz.wordpress.com/effective-qt/prefer-to-use-normalised-signalslot-signatures/">Prefer to use normalised signal/slot&nbsp;signatures</a></li>
	<li class="page_item page-item-135"><a href="https://marcmutz.wordpress.com/effective-qt/containers/">Understand the Qt&nbsp;containers</a></li>
	<li class="page_item page-item-29"><a href="https://marcmutz.wordpress.com/effective-qt/casting/">Coming Soon: Prefer qobject_cast() over isA()/inherits()</a></li>
	<li class="page_item page-item-53"><a href="https://marcmutz.wordpress.com/effective-qt/properties/">Coming Soon: Property properly</a></li>
	<li class="page_item page-item-54"><a href="https://marcmutz.wordpress.com/effective-qt/moc/">Coming Soon: Mocking moc</a></li>
</ul>
</li>
<li class="page_item page-item-471 page_item_has_children"><a href="https://marcmutz.wordpress.com/private-practice/">Private Practice</a>
<ul class='children'>
	<li class="page_item page-item-474"><a href="https://marcmutz.wordpress.com/private-practice/private-practice-taming-templates/">Private Practice: Taming&nbsp;Templates</a></li>
	<li class="page_item page-item-497"><a href="https://marcmutz.wordpress.com/private-practice/whats-in-a-proxy-style/">What&#8217;s in a&nbsp;Proxy-Style?</a></li>
</ul>
</li>
<li class="page_item page-item-227 page_item_has_children current_page_ancestor current_page_parent"><a href="https://marcmutz.wordpress.com/translated-articles/">Translated Articles</a>
<ul class='children'>
	<li class="page_item page-item-229"><a href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl/">Pimp My Pimpl</a></li>
	<li class="page_item page-item-306 current_page_item"><a href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/" aria-current="page">Pimp My Pimpl —&nbsp;Reloaded</a></li>
</ul>
</li>
</ul></div>
		</div>
		<div class="navright">
			<a class="rsslink" rel="nofollow" href="https://marcmutz.wordpress.com/feed/">Posts</a>
			<a class="rsslink" rel="nofollow" href="https://marcmutz.wordpress.com/comments/feed/">Comments</a>
		</div>
	</div>

	<div id="subnav" class="subnav nav">
			<div class="menu">
		<ul>
				<li class="cat-item cat-item-3205"><a href="https://marcmutz.wordpress.com/category/english/">English</a>
</li>
	<li class="cat-item cat-item-2765"><a href="https://marcmutz.wordpress.com/category/german/">German</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://marcmutz.wordpress.com/category/programming-languages/c/">C++</a>
</li>
	<li class="cat-item cat-item-61037"><a href="https://marcmutz.wordpress.com/category/software-libraries/qt/">Qt</a>
</li>
	<li class="cat-item cat-item-214632"><a href="https://marcmutz.wordpress.com/category/software-libraries/boost/">Boost</a>
</li>
	<li class="cat-item cat-item-1068504"><a href="https://marcmutz.wordpress.com/category/programming-languages/c/c0x/">C++0x</a>
</li>
	<li class="cat-item cat-item-39389780"><a href="https://marcmutz.wordpress.com/category/columns/heise-developer/">Heise Developer</a>
</li>
	<li class="cat-item cat-item-39438656"><a href="https://marcmutz.wordpress.com/category/columns/effective-qt/">Effective Qt</a>
</li>
	<li class="cat-item cat-item-990667"><a href="https://marcmutz.wordpress.com/category/columns/private-practice/">Private Practice</a>
</li>
	<li class="cat-item cat-item-2227387"><a href="https://marcmutz.wordpress.com/category/projects/gpg4win/">Gpg4win</a>
</li>
		</ul>
	</div>
	</div>
</div>

<div id="wrap">
<div id="content">

	<div id="content-left">

        
            <div class="post-306 page type-page status-publish hentry">

                <div class="entry">
                	<h1>Pimp My Pimpl —&nbsp;Reloaded</h1>
                	<p><img src="http://vg01.met.vgwort.de/na/58b4397d3b154577800ce7bd0c956208" alt="" width="1" height="1" /><br />
This is a translation of a two-part article that originally appeared on <a href="http://www.heise.de/developer">Heise Developer</a>. You can find the originals here:</p>
<ul>
<li>Part One: <a href="http://www.heise.de/developer/artikel/C-Vor-und-Nachteile-des-d-Zeiger-Idioms-Teil-1-1097781.html">http://www.heise.de/developer/artikel/C-Vor-und-Nachteile-des-d-Zeiger-Idioms-Teil-1-1097781.html</a></li>
<li>Part Two: <a href="http://www.heise.de/developer/artikel/C-Vor-und-Nachteile-des-d-Zeiger-Idioms-Teil-2-1136104.html">http://www.heise.de/developer/artikel/C-Vor-und-Nachteile-des-d-Zeiger-Idioms-Teil-2-1136104.html</a></li>
</ul>
<p>You can find Part One here:</p>
<ul>
<li><a title="Pimp My Pimpl" href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl/">https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl/</a></li>
</ul>
<h1>Pimp My Pimpl — Reloaded</h1>
<p><strong>Much has been written about this funnily-named idiom, alternatively known as d-pointer, compiler firewall, or Cheshire Cat. After a first article on <i>Heise Developer</i> first presented the classic Pimpl Idiom and its benefits, this second part will focus on removing some of the drawbacks that inevitably occur when using Pimpls.</strong><span id="more-306"></span></p>
<h2>Part Two</h2>
<p>&nbsp;</p>
<h3>The Shallow-<code>const</code> Problem</h3>
<p>A first gotcha, easily overlooked, has to do with C&#8217;s concept of shallow <code>const</code>. When using Pimpl, all methods access data fields of the class merely through <code>d</code>:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
SomeThing &amp; Class::someThing() const {
    return d-&gt;someThing;
}
</pre>
<p>Only a closer look reveals that the code evades a C++ security feature: Since the method is declared <code>const</code>, <code>this</code> inside <code>someThing()</code> is of type <code>const Class*</code>, hence <code>d</code> is of type <code>Class::Private * const</code>. That, however, does not suffice to prevent write access to data fields of <code>Class::Private</code>, because even though <code>d</code> is <code>const</code>, <code>*d</code> is not.</p>
<p>Remember: In C/C++, <code>const</code> is not deep, but shallow:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
const int * pci;        // pointer to const int
int * const cpi;        // const pointer to int
const int * const cpci; // const pointer to const int

*pci  = 1;  // error: *pci is const
*cpi  = 1;  // ok! *cpi isn't const
*cpci = 1;  // error: *cpci is const

int i;
pci  = &amp;i;  // ok
cpi  = &amp;i;  // error: cpi is const
cpci = &amp;i;  // error: cpci is const
</pre>
<p>When using Pimpl, therefore, both <code>const</code> and non-<code>const</code> methods can write to the data field of the object. In the version without Pimpl, the compiler actively prevents that.</p>
<p>This hole in the type system will usually be undesirable and should be closed. This is possible using <code>deep_const_ptr</code> or a pair of <code>d_func()</code> methods. The former is a simple smart pointer class, which retrofits deep <code>const</code> for selected pointer variables. Its class definition, reduced to the essentials, might look as follows:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
template &lt;typename T&gt;
class deep_const_ptr {
    T * p;
public:
    explicit deep_const_ptr( T * t ) : p( t ) {}

    const T &amp; operator*() const { return *p; }
    T &amp; operator*() { return *p; }

    const T * operator-&gt;() const { return p; }
    T * operator-&gt;() { return p; }
};
</pre>
<p>By using the trick to overload <code>const</code> and non-<code>const</code> versions of <code>operator*()</code> and <code>operator-&gt;</code>, the constness of <code>d</code> is forwarded to <code>*d</code>. Simply replacing <code>Private * d;</code> with <code>deep_const_ptr&lt;Private&gt; d</code> closes the hole in an effective manner. But there&#8217;s no need for a smart pointer here: The <code>const</code>/non-<code>const</code> overloading trick also works with methods on <code>Class</code> directly:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
class Class {
    // ...
private:
    const Private * d_func() const { return _d; }
    Private * d_func() { return _d; }
private:
    Private * _d;
};
</pre>
<p>Instead of accessing <code>_d</code> in method implementations, one always uses <code>d_func()</code>:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
void Class::f() const {
     const Private * d = d_func();
     // use 'd' ...
}
</pre>
<p>Of course, nothing prevents the direct use of <code>_d</code> here; something that isn&#8217;t possible when using <code>deep_const_ptr</code>. This variant, therefore, requires a little more programmer discipline. In addition, the developer can extend <code>deep_const_ptr</code> such that its destructor deletes the payload for him, while he himself is responsible for deleting <code>_d</code>. In return, the <code>d_func()</code> variant scores points when dealing with polymorphic class hierarchies, as will be shown later.</p>
<p><a name="back-link"></a></p>
<h3>Accessing The Public Class</h3>
<p>A further obstacle arises when a developer actually wishes to move <em>all</em> private functions from the public to the <code>Private</code> class: He is missing a way to call (non-static) public or protected methods of the public class from methods on <code>Private</code>, since the link of the public class to its <code>Private</code> class is <em>unidirectional</em>:</p>
<pre class="brush: cpp; highlight: [5]; title: ; notranslate" title="">
class Class::Private {
public:
    Private() : ... {}
    // ...
    void callPublicFunc() { /*???*/Class::publicFunc(); }
};

Class::Class()
    : d( new Private ) {}
</pre>
<p>The problem can be solved by introducing a back-link (the name chosen here, <code>q</code>, originates from Qt):</p>
<pre class="brush: cpp; highlight: [2,4,10]; title: ; notranslate" title="">
class Class::Private {
    Class * const q; // back-link
public:
    explicit Private( Class * qq ) : q( qq ), ... {}
    // ...
    void callPublicFunc() { q-&gt;publicFunc(); }
};

Class::Class()
  : d( new Private( this ) ) {}
</pre>
<p>When using the back-link it is imperative to bear in mind that the initialisation of <code>d</code> is not ensured until the <code>Private</code> constructor has finished executing. One should avoid calling (<code>Class</code>) methods which require a valid <code>d</code> pointer during the execution of the <code>Private</code> constructor, lest it rains crashes or undefined behaviour.</p>
<p>The security-minded developer will therefore initialise the back-links to zero first, and only implant them the reference to the public class after construction is complete:</p>
<pre class="brush: cpp; highlight: [4,9,11,12]; title: ; notranslate" title="">
class Class::Private {
    Class * const q; // back-link
public:
    explicit Private( /*Class * qq*/ ) : q( 0 ), ... {}
    // ...
};

Class::Class()
    : d( new Private/*( this )*/ )
{
    // establish back-link:
    d-&gt;q = this;
}
</pre>
<p>Despite these restrictions, a considerable amount of the initalisation code of a class can usually be moved into the <code>Private</code> constructor, which is valuable in classes with overloaded constructors. It should not be left unmentioned that the <code>q</code>-pointer, too, can be talked into propagating constness using the <code>deep_const_ptr</code> or, in case of class hierarchies, <code>q_func()</code>-functions.</p>
<p>Having re-added missing functionality now, the rest of the article will show how to attenuate the Pimpl overhead with a trick from the depths of the magic bag.</p>
<p><a name="recycling"></a></p>
<h3>Raising Efficiency Through Recycling</h3>
<p>As a good C++ programmer, the reader will have become sceptical as he read the introductory remarks on the classical Pimpl idiom in Part One. In particular, the additional dynamic memory allocation will have caused headache, the more so if classes otherwise allocate little or no additional memory.</p>
<p>Even though such impressions should first be verified with a profiler, it cannot hurt acceptance of the technique to find mechanisms that soften the potential performance trap. Part One already mentioned the direct embedding of data fields, with which dynamic memory allocations can be saved. In the following, we will look at an additional, much more involved, technique: the recycling of the <code>d</code>-pointer.</p>
<p>In a polymorphic class hierarchy, the problem of additional dynamic memory allocations caused by Pimpl multiplies by the depth of the hierarchy: Each class in the hierarchy has its own &#8220;pimple&#8221;, even though for some it might be completely empty (for example, if one only reimplemented virtual functions, but added no additional data members).</p>
<p>The developer can fight the proliferation of <code>d</code>-pointers (and of the dynamic memory allocations associated with them) by re-using the base-class <code>d</code>-pointer in derived classes:</p>
<pre class="brush: cpp; highlight: [6,8,22,23,24,25,26]; title: ; notranslate" title="">
// base.h:
class Base {
    // ...
public:
    Base();
protected:
    class Private;
    explicit Base( Private * d );
    Private * d_func() { return _d; }
    const Private * d_func() const { return _d; }
private:
    Private * _d;
};

// base.cpp:
Base::Base()
    : _d( new Private )
{
    // ...
}

Base::Base( Private * d )
    : _d( d )
{
    // ...
}
</pre>
<p>The addition of the <code>protected</code> constructor alongside the public ones allows derived classes to implant their own <code>d</code>-pointer into the base class. The code also employs <code>const</code> forwarding using (now <code>protected</code>) <code>d_func()</code>-functions — and not <code>deep_const_ptr</code> — to allow derived classes (read-)access to <code>_d</code>.</p>
<pre class="brush: cpp; title: ; notranslate" title="">
// derived.h:
class Derived : public Base {
public:
    Derived();
    // ...
protected:
    class Private;
    Private * d_func();             // can't be implemented inline here
    const Private * d_func() const; // ditto
};

// derived.cpp:
Derived::Private * Derived::d_func() {
    return static_cast&lt;Private*&gt;( Base::d_func() );
}

const Derived::Private * Derived::d_func() const {
    return static_cast&lt;const Private*&gt;( Base::d_func() );
}

Derived::Derived()
    : Base( new Private ) {}
</pre>
<p>The author of <code>Derived</code> now uses the newly added <code>Base</code> constructor to implant a <code>Derived::Private</code> instead of a <code>Base::Private</code> into <code>Base::_d</code> (note the resolution of the unqualified name <code>Private</code> in the different contexts). He also implements the <code>Derived::d_func()</code> overloads in terms of the <code>Base::d_func()</code> ones, but returns his own <code>Private</code> class instead.</p>
<p>For the <code>Base</code> constructor call to work, <code>Derived::Private</code> needs to inherit from <code>Base::Private</code>:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
class Derived::Private : public Base::Private {
    // ...
};
</pre>
<p>To actually be able to perform this inheritance, three conditions must be met: First, the developer has to declare the <code>Base::Private</code> destructor virtual, otherwise he&#8217;ll be caught up in undefined behaviour when the <code>Base</code> destructor deletes the <code>Private</code> class hierarchy.</p>
<p>Furthermore, he must implement both classes in the same library, since the <code>Private</code> classes are usually not exported — they carry no <code>declspec(dllexport)</code> on Windows and are not <code>visibility=hidden</code> in ELF binaries (Executable and Linkable Format). Export would be necessary, however, if <code>Derived</code> lay in a different library than <code>Base</code>. In exceptional cases, the <code>Private</code> classes of central classes may be exported: Nokia engineers, for example, have exported the classes <code>QObjectPrivate</code> (from QtCore) and <code>QWidgetPrivate</code> (from QtGui), which are so central to the Qt library, since so many classes from modules other than QtCore and QtGui derive from <code>QObject</code> and <code>QWidget</code>. Doing so, however, ties such libraries intrinsically to each other at the version level, such that end users can normally exchange them only in conjunction with each other: In general, a <code>libQtGui.so.4.5.0</code> will not work if the runtime environment links it against a <code>libQtCore.so.4.6.0</code>.</p>
<p>Third, the definition of <code>Base::Private</code> can no longer be hidden in the implementation file of the base class (<code>base.cpp</code>), since the definition of <code>Derived::Private</code> requires it. So where to put the <code>Base::Private</code> definition? The developer can hardly put it into the header file (<code>base.h</code>), then he could just do away with the effort to use Pimpl. The answer lies in the creation of a second, private header file. Qt and KDE established the <code>classname_p.h</code> naming scheme for this purpose (<code>_priv</code>, <code>_i</code> and <code>_impl</code> suffixes are also common). Besides the <code>Base::Private</code> definition, the header file may also hold <code>inline</code> definitions of <code>Base</code> methods, for example the new constructor:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
inline Base::Base( Private * d ) : _d( d ) {}
</pre>
<p>And in <code>derived_p.h</code>:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
inline Derived::Derived( Private * d ) : Base( d ) {}
inline const Derived::Private * Derived::d_func() const {
    return static_cast&lt;const Private*&gt;( Base::d_func() );
}
inline Derived::Private * Derived::d_func() {
    return static_cast&lt;Private*&gt;( Base::d_func() );
}
</pre>
<p>Strictly speaking, the definitions as shown above violate the ODR (One Definition Rule), since the <code>d_func()</code> functions are <code>inline</code> in those translation units which include <code>derived_p.h</code>, but <code>extern</code> in all others.</p>
<p>In practice, however, that is not a problem, since all users of <code>d_func()</code> have to include <code>derived_p.h</code>, too. To be on the safe side, declare <code>Derived::d_func()</code> <code>inline</code> already in the class definition; current compilers don&#8217;t mind the missing definition.</p>
<p>In practice, one hides the non-negligible code noise introduced by this technique in preprocessor macros. Qt, for example, has a <code>Q_DECLARE_PRIVATE</code> macro that class definitions can use, as well as <code>Q_D</code>, which declares a local <code>d</code> pointer in method implementations and initialises it with a call to <code>d_func()</code>.</p>
<p>One downside still remains, though: If the developer wants to combine <code>d</code>-pointer recycling with back-links, some complications ensue. To begin with, meticulous attention needs to be paid not to dereference (neither directly nor indirectly) the <code>Derived</code> pointer passed to the <code>Private</code> constructor, until the whole class hierarchy has finished constructing.</p>
<pre class="brush: cpp; title: ; notranslate" title="">
Derived::Private( Derived * qq )
  : Base( qq ) // ok, not dereferencing
{
    q-&gt;setFoo( ... ); // dereferences q -&gt; crash!
}
</pre>
<p>For not only has <code>Derived</code> not finished constructing at the moment of the <code>Private</code> constructor call, neither has — and that is the difference to the non-polymorphic case discussed above — <code>Base</code>: Its constructor hasn&#8217;t been entered yet; the constructor argument is still under construction.</p>
<p>In this case, too, it helps to initialise the back-link to <code>0</code> first. The task to set the back-link then falls to the most-derived class, that is, the one that implants its concrete <code>Private</code> object into the hierarchy. In the case of <code>Derived</code>, this would look as follows:</p>
<pre class="brush: cpp; highlight: [4]; title: ; notranslate" title="">
Derived::Derived()
    : Base( new Private/*( this )*/ )
{
    d_func()-&gt;_q = this;
}
</pre>
<p>The author customarily rolls parts of the initialisation that require the back-link into a separate <code>Private::init()</code> function (=two-step construction of <code>Private</code>), called (only) by the constructor whose own <code>Private</code> class is being used.</p>
<pre class="brush: cpp; title: ; notranslate" title="">
Derived::Derived( Private * d )
    : Base( d )
{
    // does _not_ call d-&gt;init()!
}
Derived::Derived()
    : Base( new Private )
{
    d_func()-&gt;init( this );
}
Derived::Private::init( Derived * qq ) {
  Base::Private::init( qq ); // sets _q
  // my initialisation goes here
}
</pre>
<p>Furthermore, each <code>Private</code> class needs to declare its own back-link, or else &#8220;<code>q_func()</code>&#8221; methods that take care of casting the base-class back-link. The code needed for this is left as an exercise to you, gentle reader. The solution can be found on the <a href="ftp://ftp.heise.de/pub/ix/developer/pimpl.zip">Heise FTP server</a> in the form of a &#8220;pimped&#8221; <code>Shape</code>-hierarchy.</p>
<p><a name="findings"></a></p>
<h3>Findings</h3>
<p>As a well-known C++ idiom, Pimpl allows class authors to separate class interface and implementation to an extent not directly provided for by C++. As a positive side-effect, the use of d-pointers speeds up compilation runs, eases implementation of transaction semantics, and allows, through extended means of composition, implementations that potentially are more runtime-efficient.</p>
<p>Not everything is shiny when using d-pointers, though: In addition to the extra <code>Private</code> class, and its dynamic memory allocation, modified <code>const</code> method semantics, as well as potential allocation sequence errors are cause for concern. For both of these, this article has presented remedies, which, however, cause a lot more coding effort. Because of the increased complexity involved in these, the &#8220;fully pimped&#8221; Pimpl, including recycling and back-links, can be recommended only for a few selected classes or projects.</p>
<p>However, projects that do not shy away from the effort will be rewarded with intriguing interface stability, allowing far-reaching implementation changes.</p>
<h3>Literature</h3>
<ul>
<li>John Lakos; Large-Scale C++ Software Design; Addison-Wesley Longman, 1996</li>
<li>Herb Sutter; Exceptional C++: 47 Engineering Puzzles, Programming Problems, and Solutions; Addison-Wesley Longman, 2000</li>
<li>Herb Sutter, Andrei Alexandrescu: C++ Coding Standards: 101 Rules, Guidelines and Best Practices; Addison-Wesley Longman, 2004</li>
<li>Marc Mutz; Pimp my Pimpl; C++: Vor- und Nachteile des d-Zeiger-Idioms, Teil 1; <a href="http://www.heise.de/developer/artikel/C-Vor-und-Nachteile-des-d-Zeiger-Idioms-Teil-2-1136104.html">Artikel</a> auf heise Developer (<a title="Pimp My Pimpl" href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl/">English Translation available</a>)</li>
</ul>
<div id="atatags-370373-6225fc15aff97">
        <script type="text/javascript">
            __ATA.cmd.push(function() {
                __ATA.initVideoSlot('atatags-370373-6225fc15aff97', {
                    sectionId: '370373',
                    format: 'inread'
                });
            });
        </script>
    </div>			<div id="atatags-26942-6225fc15affed"></div>
			
			<script>
				__ATA.cmd.push(function() {
					__ATA.initDynamicSlot({
						id: 'atatags-26942-6225fc15affed',
						location: 120,
						formFactor: '001',
						label: {
							text: 'Advertisements',
						},
						creative: {
							reportAd: {
								text: 'Report this ad',
							},
							privacySettings: {
								text: 'Privacy',
								
							}
						}
					});
				});
			</script><div id="jp-post-flair" class="sharedaddy sd-rating-enabled sd-like-enabled sd-sharing-enabled"><div class="sd-block sd-rating"><h3 class="sd-title">Rate this:</h3><div class="cs-rating pd-rating" id="pd_rating_holder_2480796_page_306"></div></div><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow noopener noreferrer" data-shared="sharing-twitter-306" class="share-twitter sd-button share-icon" href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/?share=twitter" target="_blank" title="Click to share on Twitter"><span>Twitter</span></a></li><li class="share-reddit"><a rel="nofollow noopener noreferrer" data-shared="" class="share-reddit sd-button share-icon" href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/?share=reddit" target="_blank" title="Click to share on Reddit"><span>Reddit</span></a></li><li class="share-email"><a rel="nofollow noopener noreferrer" data-shared="" class="share-email sd-button share-icon" href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/?share=email" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-print"><a rel="nofollow noopener noreferrer" data-shared="" class="share-print sd-button share-icon" href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/#print" target="_blank" title="Click to print"><span>Print</span></a></li><li class="share-end"></li></ul></div></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-14776649-306-6225fc15b14ec' data-src='//widgets.wp.com/likes/index.html?ver=20220105#blog_id=14776649&amp;post_id=306&amp;origin=marcmutz.wordpress.com&amp;obj_id=14776649-306-6225fc15b14ec' data-name='like-post-frame-14776649-306-6225fc15b14ec' data-title='Like or Reblog'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height: 55px;'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div></div><div class="clear"></div>
                	<div class="clear"></div>
					                </div>

            </div>

        
                 <div id="comments">
            <div id="comments">
	

	<h3 id="comments-title">6 Responses to <em>Pimp My Pimpl —&nbsp;Reloaded</em>	</h3>

	<ol class="commentlist snap_preview">
			<li class="post pingback">
		<p>Pingback: <a href='https://marcmutz.wordpress.com/2010/11/15/heise-developer-pimp-my-pimpl-part-2/' rel='external nofollow ugc' class='url'>Heise Developer: Pimp My Pimpl (part 2) &laquo; -Wmarc</a></p>
	</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href='https://marcmutz.wordpress.com/2011/08/14/translated-pimp-my-pimpl-part-2/' rel='external nofollow ugc' class='url'>Translated: Pimp My Pimpl (part 2) &laquo; -Wmarc</a></p>
	</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href='http://techretriever.com/%d0%bf%d0%b5%d1%80%d0%b5%d0%b2%d0%be%d0%b4-%d1%81%d1%82%d0%b0%d1%82%d1%8c%d0%b8-pimp-my-pimpl-%d1%87%d0%b0%d1%81%d1%82%d1%8c-2-c-%d1%85%d0%b0%d0%b1%d1%80%d0%b0%d1%85%d0%b0%d0%' rel='external nofollow ugc' class='url'>Перевод статьи «Pimp my Pimpl», часть 2 / C++ / Хабрахабр | TechRetriever</a></p>
	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-6648">
		<div id="comment-6648">
		<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/bf65422c83241d4ea1a4404169d6bb83?s=40&#038;d=identicon&#038;r=G' class='avatar avatar-40' height='40' width='40' />			<cite class="fn">wjh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/#comment-6648">2015-06-27 at 23:06</a></div>

		<div class="comment-body"><p>In the following excerpt from your article, I believe that member q of Class::Private would technically need to be public (not private as is currently the case) in order for the assignment &#8220;d-&gt;q = this;&#8221; in the Class constructor to compile:</p>
<p>&gt;&gt;&gt;&gt;&gt;<br />
The security-minded developer will therefore initialise the back-links to zero first, and only implant them the reference to the public class after construction is complete:</p>
<p>class Class::Private {<br />
    Class * const q; // back-link<br />
public:<br />
    explicit Private( /*Class * qq*/ ) : q( 0 ), &#8230; {}<br />
    // &#8230;<br />
};</p>
<p>Class::Class()<br />
    : d( new Private/*( this )*/ )<br />
{<br />
    // establish back-link:<br />
    d-&gt;q = this;<br />
}<br />
&lt;&lt;&lt;&lt;&lt;</p>
</div>

		<div class="reply">
			<a rel='nofollow' class='comment-reply-link' href='https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/?replytocom=6648#respond' data-commentid="6648" data-postid="306" data-belowelement="comment-6648" data-respondelement="respond" data-replyto="Reply to wjh" aria-label='Reply to wjh'>Reply</a>		</div>
	</div>

	<ul class="children">
	<li class="comment odd alt depth-2 highlander-comment" id="li-comment-7281">
		<div id="comment-7281">
		<div class="comment-author vcard">
			<img alt='' src='https://2.gravatar.com/avatar/5a01d55108083f75700dedda36eb284c?s=40&#038;d=identicon&#038;r=G' class='avatar avatar-40' height='40' width='40' />			<cite class="fn">Matt</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/#comment-7281">2018-06-27 at 20:13</a></div>

		<div class="comment-body"><p>As long as it is constant (Class * const q) it doesn&#8217;t matter that you change encapsulation because you won&#8217;t be able to assign any value to that in constructor.</p>
</div>

		<div class="reply">
			<a rel='nofollow' class='comment-reply-link' href='https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/?replytocom=7281#respond' data-commentid="7281" data-postid="306" data-belowelement="comment-7281" data-respondelement="respond" data-replyto="Reply to Matt" aria-label='Reply to Matt'>Reply</a>		</div>
	</div>

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href='https://www.kdab.com/stepanov-regularity-partially-formed-objects-vs-c-value-types/' rel='external nofollow ugc' class='url'>Stepanov-Regularity and Partially-Formed Objects vs. C++ Value Types - KDAB</a></p>
	</li><!-- #comment-## -->
	</ol>


	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/translated-articles/pimp-my-pimpl-reloaded/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://marcmutz.wordpress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="9962cbfbae" /><input type="hidden" name="_wp_http_referer" value="/translated-articles/pimp-my-pimpl-reloaded/" />
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment" title="Enter your comment here..."></textarea></div>
</div>

<div id="comment-form-identity">
	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" class="nascar-signin-link"
                   title="Login via Guest">
									</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" class="nascar-signin-link"
                   title="Login via WordPress.com">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></g></svg>				</a>
			</li>
			<li>
			<iframe id="googleplus-sign-in" name="googleplus-sign-in" src="https://public-api.wordpress.com/connect/?googleplus-sign-in=https%3A%2F%2Fmarcmutz.wordpress.com&#038;color_scheme=light" width="24" height="24" scrolling="no" allowtransparency="true" seamless="seamless" frameborder="0"></iframe>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" class="nascar-signin-link"
                   title="Login via Twitter">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"/></g></svg>				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" class="nascar-signin-link"
                   title="Login via Facebook">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"/></g></svg>				</a>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="url" value="" /></div>
				</div>
			</div>
			
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
						<p class="comment-form-posting-as pa-wordpress">
			<strong></strong>
			You are commenting using your WordPress.com account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" />
						<p class="comment-form-posting-as pa-googleplus">
			<strong></strong>
			You are commenting using your Google account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" x="0px" y="0px" viewBox="0 0 60 60" ><path fill="#519bf7" d="M56.3,30c0,-1.6 -0.2,-3.4 -0.6,-5h-3.1H42.2H30v10.6h14.8C44,39.3 42,42 39.1,43.9l8.8,6.8C53,46 56.3,39 56.3,30z" /><path fill="#3db366" d="M30,57.5c6.7,0 13.1,-2.4 17.9,-6.8l-8.8,-6.8c-2.5,1.6 -5.6,2.4 -9.1,2.4c-7.2,0 -13.3,-4.7 -15.4,-11.2l-9.3,7.1C9.8,51.3 19.1,57.5 30,57.5z" /><path fill="#fdc600" d="M5.3,42.2l9.3,-7.1c-0.5,-1.6 -0.8,-3.3 -0.8,-5.1s0.3,-3.5 0.8,-5.1l-9.3,-7.1C3.5,21.5 2.5,25.6 2.5,30S3.5,38.5 5.3,42.2z" /><path fill="#f15b44" d="M40.1,17.4l8,-8C43.3,5.1 37,2.5 30,2.5C19.1,2.5 9.8,8.7 5.3,17.8l9.3,7.1c2.1,-6.5 8.2,-11.1 15.4,-11.1C33.9,13.7 37.4,15.1 40.1,17.4z" /></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
						<p class="comment-form-posting-as pa-twitter">
			<strong></strong>
			You are commenting using your Twitter account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
						<p class="comment-form-posting-as pa-facebook">
			<strong></strong>
			You are commenting using your Facebook account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

</div>

<script type="text/javascript">
var highlander_expando_javascript = function () {

	function hide( sel ) {
		var el = document.querySelector( sel );
		if ( el ) {
			el.style.setProperty( 'display', 'none' );
		}
	}

	function show( sel ) {
		var el = document.querySelector( sel );
		if ( el ) {
			el.style.removeProperty( 'display' );
		}
	}

	var input = document.createElement( 'input' );
	var comment = document.querySelector( '#comment' );

	if ( input && comment && 'placeholder' in input ) {
		var label = document.querySelector( '.comment-textarea label' );
		if ( label ) {
			var text = label.textContent;
			label.parentNode.removeChild( label );
			comment.setAttribute( 'placeholder', text );
		}
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	hide( '#comment-form-identity' );
	hide( '#comment-form-subscribe' );
	hide( '#commentform .form-submit' );

	if ( comment ) {
		comment.style.height = '10px';

		var handler = function () {
			comment.style.height = HighlanderComments.initialHeight + 'px';
			show( '#comment-form-identity' );
			show( '#comment-form-subscribe' );
			show( '#commentform .form-submit' );
			HighlanderComments.resizeCallback();

			comment.removeEventListener( 'focus', handler );
		};

		comment.addEventListener( 'focus', handler );
	}
}

if ( document.readyState !== 'loading' ) {
	highlander_expando_javascript();
} else {
	document.addEventListener( 'DOMContentLoaded', highlander_expando_javascript );
}

</script>

<div id="comment-form-subscribe">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"/> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;"/> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog"  style="display: inline;">Notify me of new posts via email.</label></p></div>




<p class="form-submit"><input name="submit" type="submit" id="comment-submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='306' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="7d59487c5f" /></p>
<input type="hidden" name="genseq" value="1646656533" />
<p style="display: none !important;"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="74"/><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p></form>	</div><!-- #respond -->
	<div style="clear: both"></div><p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p>
</div><!-- #comments -->        </div>
        
    </div>

<div id="sidebar">

	<div id="top-posts-2" class="widget widget_top-posts"><h4>Top Posts</h4><ul>				<li>
					<a href="https://marcmutz.wordpress.com/effective-qt/containers/" class="bump-view" data-bump-view="tp">Understand the Qt containers</a>					</li>
									<li>
					<a href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/" class="bump-view" data-bump-view="tp" aria-current="page">Pimp My Pimpl — Reloaded</a>					</li>
									<li>
					<a href="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl/" class="bump-view" data-bump-view="tp">Pimp My Pimpl</a>					</li>
									<li>
					<a href="https://marcmutz.wordpress.com/2010/07/29/sneak-preview-qlist-considered-harmful/" class="bump-view" data-bump-view="tp">Sneak Preview: QList considered harmful</a>					</li>
					</ul></div><div id="tag_cloud-2" class="widget widget_tag_cloud"><h4></h4><div style="overflow: hidden;"><a href="https://marcmutz.wordpress.com/category/projects/akonadi/" style="font-size: 100%; padding: 1px; margin: 1px;"  title="Akonadi (1)">Akonadi</a> <a href="https://marcmutz.wordpress.com/category/software-libraries/boost/" style="font-size: 131.25%; padding: 1px; margin: 1px;"  title="Boost (6)">Boost</a> <a href="https://marcmutz.wordpress.com/category/programming-languages/c/" style="font-size: 262.5%; padding: 1px; margin: 1px;"  title="C++ (27)">C++</a> <a href="https://marcmutz.wordpress.com/category/programming-languages/c/c0x/" style="font-size: 168.75%; padding: 1px; margin: 1px;"  title="C++0x (12)">C++0x</a> <a href="https://marcmutz.wordpress.com/category/columns/effective-qt/" style="font-size: 131.25%; padding: 1px; margin: 1px;"  title="Effective Qt (6)">Effective Qt</a> <a href="https://marcmutz.wordpress.com/category/english/" style="font-size: 275%; padding: 1px; margin: 1px;"  title="English (29)">English</a> <a href="https://marcmutz.wordpress.com/category/german/" style="font-size: 187.5%; padding: 1px; margin: 1px;"  title="German (15)">German</a> <a href="https://marcmutz.wordpress.com/category/projects/gpg4win/" style="font-size: 118.75%; padding: 1px; margin: 1px;"  title="Gpg4win (4)">Gpg4win</a> <a href="https://marcmutz.wordpress.com/category/columns/heise-developer/" style="font-size: 143.75%; padding: 1px; margin: 1px;"  title="Heise Developer (8)">Heise Developer</a> <a href="https://marcmutz.wordpress.com/category/columns/private-practice/" style="font-size: 112.5%; padding: 1px; margin: 1px;"  title="Private Practice (3)">Private Practice</a> <a href="https://marcmutz.wordpress.com/category/software-libraries/qt/" style="font-size: 206.25%; padding: 1px; margin: 1px;"  title="Qt (18)">Qt</a> </div></div><div id="media_image-3" class="widget widget_media_image"><h4>StackOverflow</h4><style>.widget.widget_media_image { overflow: hidden; }.widget.widget_media_image img { height: auto; max-width: 100%; }</style><a href="http://stackoverflow.com/users/134841/mmutz"><img class="image alignright" src="http://stackoverflow.com/users/flair/134841.png?theme=clean" alt="profile for mmutz at Stack Overflow, Q&amp;A for professional and enthusiast programmers" width="208" height="58" /></a></div><div id="archives-3" class="widget widget_archive"><h4>Monthly</h4>
			<ul>
					<li><a href='https://marcmutz.wordpress.com/2021/01/'>January 2021</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2016/09/'>September 2016</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2016/03/'>March 2016</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2012/02/'>February 2012</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2012/01/'>January 2012</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2011/11/'>November 2011</a>&nbsp;(3)</li>
	<li><a href='https://marcmutz.wordpress.com/2011/10/'>October 2011</a>&nbsp;(2)</li>
	<li><a href='https://marcmutz.wordpress.com/2011/09/'>September 2011</a>&nbsp;(3)</li>
	<li><a href='https://marcmutz.wordpress.com/2011/08/'>August 2011</a>&nbsp;(3)</li>
	<li><a href='https://marcmutz.wordpress.com/2011/07/'>July 2011</a>&nbsp;(2)</li>
	<li><a href='https://marcmutz.wordpress.com/2011/04/'>April 2011</a>&nbsp;(2)</li>
	<li><a href='https://marcmutz.wordpress.com/2011/03/'>March 2011</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2010/12/'>December 2010</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2010/11/'>November 2010</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2010/10/'>October 2010</a>&nbsp;(2)</li>
	<li><a href='https://marcmutz.wordpress.com/2010/09/'>September 2010</a>&nbsp;(1)</li>
	<li><a href='https://marcmutz.wordpress.com/2010/08/'>August 2010</a>&nbsp;(3)</li>
	<li><a href='https://marcmutz.wordpress.com/2010/07/'>July 2010</a>&nbsp;(7)</li>
			</ul>

			</div><div id="linkcat-1356" class="widget widget_links"><h4>Blogroll</h4>
	<ul class='xoxo blogroll'>
<li><a href="http://ervin.ipsquad.net/">Kevin&#039;s Blog</a></li>
<li><a href="http://steveire.wordpress.com/">Stephen&#039;s Blog</a></li>
<li><a href="http://blogs.kde.org/blog/326">David&#039;s Blog</a></li>
<li><a href="http://thomasmcguire.wordpress.com/">Thomas&#039; Blog</a></li>
<li><a href="http://c2143.blogspot.com/">Romain&#039;s Blog</a></li>

	</ul>
</div>
			<div id="atatags-286348-6225fc15b5f58"></div>
			
			<script>
				__ATA.cmd.push(function() {
					__ATA.initDynamicSlot({
						id: 'atatags-286348-6225fc15b5f58',
						location: 140,
						formFactor: '003',
						label: {
							text: 'Advertisements',
						},
						creative: {
							reportAd: {
								text: 'Report this ad',
							},
							privacySettings: {
								text: 'Privacy',
								
							}
						}
					});
				});
			</script>
</div>
</div>


<div id="footer">
	<div class="footerleft">
		<p><a href="https://wordpress.com/?ref=footer_blog" rel="nofollow">Blog at WordPress.com.</a></p>
    </div>
    <div class="footerright">
	        </div>
</div>

</div>

<!--  -->
<script src='//0.gravatar.com/js/gprofiles.js?ver=202210z' id='grofiles-cards-js'></script>
<script id='wpgroho-js-extra'>
var WPGroHo = {"my_hash":""};
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s0.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1610363240h'></script>

	<script>
		// Initialize and attach hovercards to all gravatars
		( function() {
			function init() {
				if ( typeof Gravatar === 'undefined' ) {
					return;
				}

				if ( typeof Gravatar.init !== 'function' ) {
					return;
				}

				Gravatar.profile_cb = function ( hash, id ) {
					WPGroHo.syncProfileData( hash, id );
				};

				Gravatar.my_hash = WPGroHo.my_hash;
				Gravatar.init( 'body', '#wp-admin-bar-my-account' );
			}

			if ( document.readyState !== 'loading' ) {
				init();
			} else {
				document.addEventListener( 'DOMContentLoaded', init );
			}
		} )();
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-bf65422c83241d4ea1a4404169d6bb83">
	</div>
	<div class="grofile-hash-map-5a01d55108083f75700dedda36eb284c">
	</div>
	</div>
<script id='highlander-comments-js-extra'>
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/marcmutz.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/marcmutz.wordpress.com\/wp-login.php?action=logout&_wpnonce=88e729bd4e","homeURL":"https:\/\/marcmutz.wordpress.com\/","postID":"306","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"","text_direction":"ltr"};
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s0.wp.com/_static/??/wp-content/js/textarea-autosize.min.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1645810379j'></script>
		<!-- CCPA [start] -->
		<script type="text/javascript">
			( function () {

				var setupPrivacy = function() {

					// Minimal Mozilla Cookie library
					// https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie/Simple_document.cookie_framework
					var cookieLib = window.cookieLib = {getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,o,n,t,r,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var c="";if(n)switch(n.constructor){case Number:c=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:c="; expires="+n;break;case Date:c="; expires="+n.toUTCString()}return"rootDomain"!==r&&".rootDomain"!==r||(r=(".rootDomain"===r?".":"")+document.location.hostname.split(".").slice(-2).join(".")),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+c+(r?"; domain="+r:"")+(t?"; path="+t:"")+(i?"; secure":""),!0}};

					// Implement IAB USP API.
					window.__uspapi = function( command, version, callback ) {

						// Validate callback.
						if ( typeof callback !== 'function' ) {
							return;
						}

						// Validate the given command.
						if ( command !== 'getUSPData' || version !== 1 ) {
							callback( null, false );
							return;
						}

						// Check for GPC. If set, override any stored cookie.
						if ( navigator.globalPrivacyControl ) {
							callback( { version: 1, uspString: '1YYN' }, true );
							return;
						}

						// Check for cookie.
						var consent = cookieLib.getItem( 'usprivacy' );

						// Invalid cookie.
						if ( null === consent ) {
							callback( null, false );
							return;
						}

						// Everything checks out. Fire the provided callback with the consent data.
						callback( { version: 1, uspString: consent }, true );
					};

					// Initialization.
					document.addEventListener( 'DOMContentLoaded', function() {

						// Internal functions.
						var setDefaultOptInCookie = function() {
							var value = '1YNN';
							var domain = '.wordpress.com' === location.hostname.slice( -14 ) ? '.rootDomain' : location.hostname;
							cookieLib.setItem( 'usprivacy', value, 365 * 24 * 60 * 60, '/', domain );
						};

						var setDefaultOptOutCookie = function() {
							var value = '1YYN';
							var domain = '.wordpress.com' === location.hostname.slice( -14 ) ? '.rootDomain' : location.hostname;
							cookieLib.setItem( 'usprivacy', value, 24 * 60 * 60, '/', domain );
						};

						var setDefaultNotApplicableCookie = function() {
							var value = '1---';
							var domain = '.wordpress.com' === location.hostname.slice( -14 ) ? '.rootDomain' : location.hostname;
							cookieLib.setItem( 'usprivacy', value, 24 * 60 * 60, '/', domain );
						};

						var setCcpaAppliesCookie = function( applies ) {
							var domain = '.wordpress.com' === location.hostname.slice( -14 ) ? '.rootDomain' : location.hostname;
							cookieLib.setItem( 'ccpa_applies', applies, 24 * 60 * 60, '/', domain );
						}

						var maybeCallDoNotSellCallback = function() {
							if ( 'function' === typeof window.doNotSellCallback ) {
								return window.doNotSellCallback();
							}

							return false;
						}

						// Look for usprivacy cookie first.
						var usprivacyCookie = cookieLib.getItem( 'usprivacy' );

						// Found a usprivacy cookie.
						if ( null !== usprivacyCookie ) {

							// If the cookie indicates that CCPA does not apply, then bail.
							if ( '1---' === usprivacyCookie ) {
								return;
							}

							// CCPA applies, so call our callback to add Do Not Sell link to the page.
							maybeCallDoNotSellCallback();

							// We're all done, no more processing needed.
							return;
						}

						// We don't have a usprivacy cookie, so check to see if we have a CCPA applies cookie.
						var ccpaCookie = cookieLib.getItem( 'ccpa_applies' );

						// No CCPA applies cookie found, so we'll need to geolocate if this visitor is from California.
						// This needs to happen client side because we do not have region geo data in our $SERVER headers,
						// only country data -- therefore we can't vary cache on the region.
						if ( null === ccpaCookie ) {

							var request = new XMLHttpRequest();
							request.open( 'GET', 'https://public-api.wordpress.com/geo/', true );

							request.onreadystatechange = function () {
								if ( 4 === this.readyState ) {
									if ( 200 === this.status ) {

										// Got a geo response. Parse out the region data.
										var data = JSON.parse( this.response );
										var ccpa_applies = data['region'] && data['region'].toLowerCase() === 'california';

										// Set CCPA applies cookie. This keeps us from having to make a geo request too frequently.
										setCcpaAppliesCookie( ccpa_applies );

										// Check if CCPA applies to set the proper usprivacy cookie.
										if ( ccpa_applies ) {
											if ( maybeCallDoNotSellCallback() ) {
												// Do Not Sell link added, so set default opt-in.
												setDefaultOptInCookie();
											} else {
												// Failed showing Do Not Sell link as required, so default to opt-OUT just to be safe.
												setDefaultOptOutCookie();
											}
										} else {
											// CCPA does not apply.
											setDefaultNotApplicableCookie();
										}
									} else {
										// Could not geo, so let's assume for now that CCPA applies to be safe.
										setCcpaAppliesCookie( true );
										if ( maybeCallDoNotSellCallback() ) {
											// Do Not Sell link added, so set default opt-in.
											setDefaultOptInCookie();
										} else {
											// Failed showing Do Not Sell link as required, so default to opt-OUT just to be safe.
											setDefaultOptOutCookie();
										}
									}
								}
							};

							// Send the geo request.
							request.send();
						} else {
							// We found a CCPA applies cookie.
							if ( ccpaCookie === 'true' ) {
								if ( maybeCallDoNotSellCallback() ) {
									// Do Not Sell link added, so set default opt-in.
									setDefaultOptInCookie();
								} else {
									// Failed showing Do Not Sell link as required, so default to opt-OUT just to be safe.
									setDefaultOptOutCookie();
								}
							} else {
								// CCPA does not apply.
								setDefaultNotApplicableCookie();
							}
						}
					} );
				};

				// Kickoff initialization.
				if ( window.defQueue && defQueue.isLOHP && defQueue.isLOHP === 2020 ) {
					defQueue.items.push( setupPrivacy );
				} else {
					setupPrivacy();
				}

			} )();
		</script>

		<!-- CCPA [end] -->
		<div class="widget widget_eu_cookie_law_widget">
<div
	class="hide-on-button ads-active"
	data-hide-timeout="30"
	data-consent-expiration="180"
	id="eu-cookie-law"
	style="display: none"
>
	<form method="post">
		<input type="submit" value="Close and accept" class="accept" />

		Privacy &amp; Cookies: This site uses cookies. By continuing to use this website, you agree to their use. <br />
To find out more, including how to control cookies, see here:
				<a href="https://automattic.com/cookies/" rel="nofollow">
			Cookie Policy		</a>
 </form>
</div>
</div>	<div id="actionbar" style="display: none;"
			class="actnbr-pub-enterprise actnbr-has-follow">
		<ul>
								<li class="actnbr-btn actnbr-hidden">
								<a class="actnbr-action actnbr-actn-follow " href="">
			<svg class="gridicon gridicons-reader-follow" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"/></g></svg><span>Follow</span>
		</a>
		<a class="actnbr-action actnbr-actn-following  no-display" href="">
			<svg class="gridicon gridicons-reader-following" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 13.482L15.508 21 12 17.4l1.412-1.388 2.106 2.188 6.094-6.094L23 13.482zm-7.455 1.862L20 10.89V2H2v14c0 1.1.9 2 2 2h4.538l4.913-4.832 2.095 2.176zM8 13H4v-1h4v1zm3-2H4v-1h7v1zm0-2H4V8h7v1zm7-3H4V4h14v2z"/></g></svg><span>Following</span>
		</a>
							<div class="actnbr-popover tip tip-top-left actnbr-notice" id="follow-bubble">
							<div class="tip-arrow"></div>
							<div class="tip-inner actnbr-follow-bubble">
															<ul>
											<li class="actnbr-sitename">
			<a href="https://marcmutz.wordpress.com">
				<img alt='' src='https://s0.wp.com/i/logo/wpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' />				-Wmarc			</a>
		</li>
										<form method="post" action="https://subscribe.wordpress.com" accept-charset="utf-8" style="display: none;">
																						<div class="actnbr-follow-count">Join 38 other followers</div>
																					<div>
										<input type="email" name="email" placeholder="Enter your email address" class="actnbr-email-field" aria-label="Enter your email address" />
										</div>
										<input type="hidden" name="action" value="subscribe" />
										<input type="hidden" name="blog_id" value="14776649" />
										<input type="hidden" name="source" value="https://marcmutz.wordpress.com/translated-articles/pimp-my-pimpl-reloaded/" />
										<input type="hidden" name="sub-type" value="actionbar-follow" />
										<input type="hidden" id="_wpnonce" name="_wpnonce" value="4dd3e0ce06" />										<div class="actnbr-button-wrap">
											<button type="submit" value="Sign me up">
												Sign me up											</button>
										</div>
									</form>
									<li class="actnbr-login-nudge">
										<div>
											Already have a WordPress.com account? <a href="https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fmarcmutz.wordpress.com%2Ftranslated-articles%2Fpimp-my-pimpl-reloaded%2F&#038;signup_flow=account">Log in now.</a>										</div>
									</li>
								</ul>
															</div>
						</div>
					</li>
							<li class="actnbr-ellipsis actnbr-hidden">
				<svg class="gridicon gridicons-ellipsis" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M7 12c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm12-2c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm-7 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2z"/></g></svg>				<div class="actnbr-popover tip tip-top-left actnbr-more">
					<div class="tip-arrow"></div>
					<div class="tip-inner">
						<ul>
									<li class="actnbr-sitename">
			<a href="https://marcmutz.wordpress.com">
				<img alt='' src='https://s0.wp.com/i/logo/wpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' />				-Wmarc			</a>
		</li>
								<li class="actnbr-folded-customize">
								<a href="https://marcmutz.wordpress.com/wp-admin/customize.php?url=https%3A%2F%2Fmarcmutz.wordpress.com%2Ftranslated-articles%2Fpimp-my-pimpl-reloaded%2F">
									<svg class="gridicon gridicons-customize" height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M2 6c0-1.505.78-3.08 2-4 0 .845.69 2 2 2 1.657 0 3 1.343 3 3 0 .386-.08.752-.212 1.09.74.594 1.476 1.19 2.19 1.81L8.9 11.98c-.62-.716-1.214-1.454-1.807-2.192C6.753 9.92 6.387 10 6 10c-2.21 0-4-1.79-4-4zm12.152 6.848l1.34-1.34c.607.304 1.283.492 2.008.492 2.485 0 4.5-2.015 4.5-4.5 0-.725-.188-1.4-.493-2.007L18 9l-2-2 3.507-3.507C18.9 3.188 18.225 3 17.5 3 15.015 3 13 5.015 13 7.5c0 .725.188 1.4.493 2.007L3 20l2 2 6.848-6.848c1.885 1.928 3.874 3.753 5.977 5.45l1.425 1.148 1.5-1.5-1.15-1.425c-1.695-2.103-3.52-4.092-5.448-5.977z"/></g></svg>									<span>Customize</span>
								</a>
							</li>
																<li class="actnbr-folded-follow">
												<a class="actnbr-action actnbr-actn-follow " href="">
			<svg class="gridicon gridicons-reader-follow" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"/></g></svg><span>Follow</span>
		</a>
		<a class="actnbr-action actnbr-actn-following  no-display" href="">
			<svg class="gridicon gridicons-reader-following" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 13.482L15.508 21 12 17.4l1.412-1.388 2.106 2.188 6.094-6.094L23 13.482zm-7.455 1.862L20 10.89V2H2v14c0 1.1.9 2 2 2h4.538l4.913-4.832 2.095 2.176zM8 13H4v-1h4v1zm3-2H4v-1h7v1zm0-2H4V8h7v1zm7-3H4V4h14v2z"/></g></svg><span>Following</span>
		</a>
										</li>
																	<li class="actnbr-signup"><a href="https://wordpress.com/start/">Sign up</a></li>
									<li class="actnbr-login"><a href="https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fmarcmutz.wordpress.com%2Ftranslated-articles%2Fpimp-my-pimpl-reloaded%2F&#038;signup_flow=account">Log in</a></li>
																	<li class="actnbr-shortlink"><a href="https://wp.me/P10053-4W">Copy shortlink</a></li>
																	<li class="flb-report"><a href="http://en.wordpress.com/abuse/">Report this content</a></li>
																	<li class="actnbr-reader">
										<a href="https://wordpress.com/read/blogs/14776649/posts/306">
											View post in Reader										</a>
									</li>
																	<li class="actnbr-subs">
										<a href="https://subscribe.wordpress.com/">Manage subscriptions</a>
									</li>
																		<li class="actnbr-fold"><a href="">Collapse this bar</a></li>
															</ul>
					</div>
				</div>
			</li>
		</ul>
	</div>
	
<script>
window.addEventListener( "load", function( event ) {
	var link = document.createElement( "link" );
	link.href = "https://s0.wp.com/wp-content/mu-plugins/actionbar/actionbar.css?v=20210915";
	link.type = "text/css";
	link.rel = "stylesheet";
	document.head.appendChild( link );

	var script = document.createElement( "script" );
	script.src = "https://s0.wp.com/wp-content/mu-plugins/actionbar/actionbar.js?v=20211028";
	script.defer = true;
	document.body.appendChild( script );
} );
</script>

	
	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/marcmutz.wordpress.com\/translated-articles\/pimp-my-pimpl-reloaded\/":306};
	</script>
					<div id="sharing_email" style="display: none;">
		<form action="/translated-articles/pimp-my-pimpl-reloaded/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off" title="This field is for validation and should not be changed" />
			
			<div
				class="g-recaptcha"
				data-sitekey="6LcmyE0UAAAAALID28yVNg7pFCodGaArJzHitez_"
				data-theme="light"
				data-type="image"
				data-tabindex="0"
				data-lazy="true"
				data-url="https://www.google.com/recaptcha/api.js?hl=en"></div>
			
			<img style="float: right; display: none" class="loading" src="https://s0.wp.com/wp-content/mu-plugins/post-flair/sharing/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a rel="nofollow" href="#cancel" class="sharing_cancel" role="button">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
<script crossorigin='anonymous' type='text/javascript' src='https://s0.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKioFmldQADTOPtfW0MzQ1MTczNLYKAsAjy0/rA=='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s0.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://s0.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s0.wp.com/_static/??-eJx9js0OwjAMg1+IEsbQxAXxLKGNRrakK/1h8PbkgoQ47Gb5sy3DmpxfYqVYYSoQ6Mme0ms/lR38IG0uSRs5Flg5jFQLUDO6zExOcIVKmgQr/fkbO8KzpR+NGt0xBqH8DXP00oJBO+QXVSu6TEnee+W4sYjBuLthBsVSKZtyNaOfi5WueumGU388DP25mz4A/ls5'></script>
<script id='crowdsignal-rating-js-before'>
<!--//--><![CDATA[//><!--
PDRTJS_settings_2480796_page_306={"id":2480796,"unique_id":"wp-page-306","title":"Pimp%20My%20Pimpl%20%E2%80%94%26nbsp%3BReloaded","permalink":"https:\/\/marcmutz.wordpress.com\/translated-articles\/pimp-my-pimpl-reloaded\/","item_id":"_page_306"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_2480796_page_306 == 'undefined' ){PDRTJS_2480796_page_306 = new PDRTJS_RATING( PDRTJS_settings_2480796_page_306 );}}
//--><!]]>
</script>
<script src='https://polldaddy.com/js/rating/rating.js?ver=wpcom' id='crowdsignal-rating-js'></script>
<script id='sharing-js-js-extra'>
var sharing_js_options = {"lang":"en","counts":"1","is_stats_active":"1"};
</script>
<script crossorigin='anonymous' type='text/javascript' src='https://s0.wp.com/wp-content/mu-plugins/post-flair/sharing/sharing.js?m=1639737289h'></script>
<script type='text/javascript'>
var windowOpen;
			( function () {
				function matches( el, sel ) {
					return !! (
						el.matches && el.matches( sel ) ||
						el.msMatchesSelector && el.msMatchesSelector( sel )
					);
				}

				document.body.addEventListener( 'click', function ( event ) {
					if ( ! event.target ) {
						return;
					}

					var el;
					if ( matches( event.target, 'a.share-twitter' ) ) {
						el = event.target;
					} else if ( event.target.parentNode && matches( event.target.parentNode, 'a.share-twitter' ) ) {
						el = event.target.parentNode;
					}

					if ( el ) {
						event.preventDefault();

						// If there's another sharing window open, close it.
						if ( typeof windowOpen !== 'undefined' ) {
							windowOpen.close();
						}
						windowOpen = window.open( el.getAttribute( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
						return false;
					}
				} );
			} )();
</script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>	<iframe src='https://widgets.wp.com/likes/master.html?ver=20220105#ver=20220105&amp;origin=https://marcmutz.wordpress.com' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
	<div id='likes-other-gravatars'>
		<div class="likes-text">
			<span>%d</span> bloggers like this:		</div>
		<ul class="wpl-avatars sd-like-gravatars"></ul>
	</div>

		<script src="//stats.wp.com/w.js?63" defer></script> <script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'14776649','blog_tz':'1','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'14776649','v':'wpcom','tz':'1','user_id':'0','post':'306','subd':'marcmutz'}]);
_stq.push(['extra', {'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdWFnNncxc1tjZG9XVXhRcXouSltuLkN1bEJIMTdMQ1BUanZdVHptdXMsP3N1LFZDcl00WEw5QUt4JVBwRV9rR0p3eDhhY084T1V5PSwtN2Z8JjVMXzdwTVcsWjhvW3B0dmxuTCYvU04rV1lDZzlhLmZ0WnlmeWQlN1VGQUQybUgxQk1KeXNncE5SQVZ+dC5DQz9SbWdXLEtvVl9UJjVhSit5WkdkM2xkeHxuWTlBL2Z3a10vREN1Zl9fJUpiR0hXUi5lWHJTc0R5YmVNN000TTksSkJ+RXA3RVZKZmdweUREelZiVWtjZUddVVF1JllCZ3Fx'}]);
_stq.push([ 'clickTrackerInit', '14776649', '306' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:1px;width:1px;overflow:hidden;position:absolute;bottom:1px;" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>
</body>
</html>